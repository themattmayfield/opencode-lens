{"version":3,"file":"createMirroredAnnotationSpan.js","names":["dAnnotations: string[]","aAnnotations: string[]"],"sources":["../../src/utils/createMirroredAnnotationSpan.ts"],"sourcesContent":["import type { AnnotationLineMap, AnnotationSpan } from '../types';\nimport { getLineAnnotationName } from './getLineAnnotationName';\n\ninterface CreateMirroredAnnotationSpanProps<LAnnotation> {\n  deletionLineNumber: number;\n  additionLineNumber: number;\n  hunkIndex: number;\n  lineIndex: number;\n  deletionAnnotations: AnnotationLineMap<LAnnotation>;\n  additionAnnotations: AnnotationLineMap<LAnnotation>;\n}\n\nexport function createMirroredAnnotationSpan<LAnnotation>(\n  props: CreateMirroredAnnotationSpanProps<LAnnotation> & { unified: true }\n): AnnotationSpan | undefined;\nexport function createMirroredAnnotationSpan<LAnnotation>(\n  props: CreateMirroredAnnotationSpanProps<LAnnotation> & { unified: false }\n): [AnnotationSpan, AnnotationSpan] | [undefined, undefined];\nexport function createMirroredAnnotationSpan<LAnnotation>({\n  deletionLineNumber,\n  additionLineNumber,\n  hunkIndex,\n  lineIndex,\n  deletionAnnotations,\n  additionAnnotations,\n  unified,\n}: CreateMirroredAnnotationSpanProps<LAnnotation> & { unified: boolean }):\n  | [AnnotationSpan, AnnotationSpan]\n  | [undefined, undefined]\n  | AnnotationSpan\n  | undefined {\n  const dAnnotations: string[] = [];\n  for (const anno of deletionAnnotations[deletionLineNumber] ?? []) {\n    dAnnotations.push(getLineAnnotationName(anno));\n  }\n  const aAnnotations: string[] = [];\n  for (const anno of additionAnnotations[additionLineNumber] ?? []) {\n    (unified ? dAnnotations : aAnnotations).push(getLineAnnotationName(anno));\n  }\n  if (aAnnotations.length === 0 && dAnnotations.length === 0) {\n    if (unified) {\n      return undefined;\n    }\n    return [undefined, undefined];\n  }\n  if (unified) {\n    return {\n      type: 'annotation',\n      hunkIndex,\n      lineIndex,\n      annotations: dAnnotations,\n    };\n  }\n  return [\n    {\n      type: 'annotation',\n      hunkIndex,\n      lineIndex,\n      annotations: dAnnotations,\n    },\n    {\n      type: 'annotation',\n      hunkIndex,\n      lineIndex,\n      annotations: aAnnotations,\n    },\n  ];\n}\n"],"mappings":";;;AAkBA,SAAgB,6BAA0C,EACxD,oBACA,oBACA,WACA,WACA,qBACA,qBACA,WAKY;CACZ,MAAMA,eAAyB,EAAE;AACjC,MAAK,MAAM,QAAQ,oBAAoB,uBAAuB,EAAE,CAC9D,cAAa,KAAK,sBAAsB,KAAK,CAAC;CAEhD,MAAMC,eAAyB,EAAE;AACjC,MAAK,MAAM,QAAQ,oBAAoB,uBAAuB,EAAE,CAC9D,EAAC,UAAU,eAAe,cAAc,KAAK,sBAAsB,KAAK,CAAC;AAE3E,KAAI,aAAa,WAAW,KAAK,aAAa,WAAW,GAAG;AAC1D,MAAI,QACF;AAEF,SAAO,CAAC,QAAW,OAAU;;AAE/B,KAAI,QACF,QAAO;EACL,MAAM;EACN;EACA;EACA,aAAa;EACd;AAEH,QAAO,CACL;EACE,MAAM;EACN;EACA;EACA,aAAa;EACd,EACD;EACE,MAAM;EACN;EACA;EACA,aAAa;EACd,CACF"}