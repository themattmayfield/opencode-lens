{"version":3,"file":"getHighlighterThemeStyles.js","names":[],"sources":["../../src/utils/getHighlighterThemeStyles.ts"],"sourcesContent":["import { DEFAULT_THEMES } from 'src/constants';\n\nimport type {\n  PJSHighlighter,\n  PJSThemeNames,\n  ThemeRegistrationResolved,\n  ThemesType,\n} from '../types';\nimport { formatCSSVariablePrefix } from './formatCSSVariablePrefix';\n\ninterface GetHighlighterThemeStylesProps {\n  theme?: PJSThemeNames | ThemesType;\n  highlighter: PJSHighlighter;\n  prefix?: string;\n}\n\n// FIXME(amadeus): We'll probably need to\n// re-think this when it comes to removing inline\n// styles\nexport function getHighlighterThemeStyles({\n  theme = DEFAULT_THEMES,\n  highlighter,\n  prefix,\n}: GetHighlighterThemeStylesProps): string {\n  let styles = '';\n  if (typeof theme === 'string') {\n    const themeData = highlighter.getTheme(theme);\n    styles += `color:${themeData.fg};`;\n    styles += `background-color:${themeData.bg};`;\n    styles += `${formatCSSVariablePrefix(prefix)}fg:${themeData.fg};`;\n    styles += `${formatCSSVariablePrefix(prefix)}bg:${themeData.bg};`;\n    styles += getThemeVariables(themeData, prefix);\n  } else {\n    let themeData = highlighter.getTheme(theme.dark);\n    styles += `${formatCSSVariablePrefix(prefix)}dark:${themeData.fg};`;\n    styles += `${formatCSSVariablePrefix(prefix)}dark-bg:${themeData.bg};`;\n    styles += getThemeVariables(themeData, prefix, 'dark');\n\n    themeData = highlighter.getTheme(theme.light);\n    styles += `${formatCSSVariablePrefix(prefix)}light:${themeData.fg};`;\n    styles += `${formatCSSVariablePrefix(prefix)}light-bg:${themeData.bg};`;\n    styles += getThemeVariables(themeData, prefix, 'light');\n  }\n  return styles;\n}\n\nfunction getThemeVariables(\n  themeData: ThemeRegistrationResolved,\n  prefix?: string,\n  modePrefix?: string\n) {\n  modePrefix = modePrefix != null ? `${modePrefix}-` : '';\n  let styles = '';\n  const additionGreen =\n    themeData.colors?.['gitDecoration.addedResourceForeground'] ??\n    themeData.colors?.['terminal.ansiGreen'];\n  if (additionGreen != null) {\n    styles += `${formatCSSVariablePrefix(prefix)}${modePrefix}addition-color:${additionGreen};`;\n  }\n  const deletionRed =\n    themeData.colors?.['gitDecoration.deletedResourceForeground'] ??\n    themeData.colors?.['terminal.ansiRed'];\n  if (deletionRed != null) {\n    styles += `${formatCSSVariablePrefix(prefix)}${modePrefix}deletion-color:${deletionRed};`;\n  }\n  const modifiedBlue =\n    themeData.colors?.['gitDecoration.modifiedResourceForeground'] ??\n    themeData.colors?.['terminal.ansiBlue'];\n  if (modifiedBlue != null) {\n    styles += `${formatCSSVariablePrefix(prefix)}${modePrefix}modified-color:${modifiedBlue};`;\n  }\n  return styles;\n}\n"],"mappings":";;;;AAmBA,SAAgB,0BAA0B,EACxC,QAAQ,gBACR,aACA,UACyC;CACzC,IAAI,SAAS;AACb,KAAI,OAAO,UAAU,UAAU;EAC7B,MAAM,YAAY,YAAY,SAAS,MAAM;AAC7C,YAAU,SAAS,UAAU,GAAG;AAChC,YAAU,oBAAoB,UAAU,GAAG;AAC3C,YAAU,GAAG,wBAAwB,OAAO,CAAC,KAAK,UAAU,GAAG;AAC/D,YAAU,GAAG,wBAAwB,OAAO,CAAC,KAAK,UAAU,GAAG;AAC/D,YAAU,kBAAkB,WAAW,OAAO;QACzC;EACL,IAAI,YAAY,YAAY,SAAS,MAAM,KAAK;AAChD,YAAU,GAAG,wBAAwB,OAAO,CAAC,OAAO,UAAU,GAAG;AACjE,YAAU,GAAG,wBAAwB,OAAO,CAAC,UAAU,UAAU,GAAG;AACpE,YAAU,kBAAkB,WAAW,QAAQ,OAAO;AAEtD,cAAY,YAAY,SAAS,MAAM,MAAM;AAC7C,YAAU,GAAG,wBAAwB,OAAO,CAAC,QAAQ,UAAU,GAAG;AAClE,YAAU,GAAG,wBAAwB,OAAO,CAAC,WAAW,UAAU,GAAG;AACrE,YAAU,kBAAkB,WAAW,QAAQ,QAAQ;;AAEzD,QAAO;;AAGT,SAAS,kBACP,WACA,QACA,YACA;AACA,cAAa,cAAc,OAAO,GAAG,WAAW,KAAK;CACrD,IAAI,SAAS;CACb,MAAM,gBACJ,UAAU,SAAS,4CACnB,UAAU,SAAS;AACrB,KAAI,iBAAiB,KACnB,WAAU,GAAG,wBAAwB,OAAO,GAAG,WAAW,iBAAiB,cAAc;CAE3F,MAAM,cACJ,UAAU,SAAS,8CACnB,UAAU,SAAS;AACrB,KAAI,eAAe,KACjB,WAAU,GAAG,wBAAwB,OAAO,GAAG,WAAW,iBAAiB,YAAY;CAEzF,MAAM,eACJ,UAAU,SAAS,+CACnB,UAAU,SAAS;AACrB,KAAI,gBAAgB,KAClB,WAAU,GAAG,wBAAwB,OAAO,GAAG,WAAW,iBAAiB,aAAa;AAE1F,QAAO"}