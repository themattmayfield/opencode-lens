{"version":3,"file":"File.js","names":[],"sources":["../../src/react/File.tsx"],"sourcesContent":["'use client';\n\nimport { type CSSProperties, type ReactNode } from 'react';\n\nimport { type FileOptions } from '../File';\nimport { HEADER_METADATA_SLOT_ID } from '../constants';\nimport type { FileContents, LineAnnotation } from '../types';\nimport { getLineAnnotationName } from '../utils/getLineAnnotationName';\nimport { templateRender } from './utils/templateRender';\nimport { useFileInstance } from './utils/useFileInstance';\n\nexport type { FileOptions };\n\nexport interface FileProps<LAnnotation> {\n  file: FileContents;\n  options?: FileOptions<LAnnotation>;\n  lineAnnotations?: LineAnnotation<LAnnotation>[];\n  renderAnnotation?(annotations: LineAnnotation<LAnnotation>): ReactNode;\n  renderHeaderMetadata?(file: FileContents): ReactNode;\n  className?: string;\n  style?: CSSProperties;\n  prerenderedHTML?: string;\n}\n\nexport function File<LAnnotation = undefined>({\n  file,\n  lineAnnotations,\n  options,\n  className,\n  style,\n  renderAnnotation,\n  renderHeaderMetadata,\n  prerenderedHTML,\n}: FileProps<LAnnotation>): React.JSX.Element {\n  const ref = useFileInstance({ file, options, lineAnnotations });\n  const metadata = renderHeaderMetadata?.(file);\n  const children = (\n    <>\n      {metadata != null && <div slot={HEADER_METADATA_SLOT_ID}>{metadata}</div>}\n      {renderAnnotation != null &&\n        lineAnnotations?.map((annotation, index) => (\n          <div key={index} slot={getLineAnnotationName(annotation)}>\n            {renderAnnotation(annotation)}\n          </div>\n        ))}\n    </>\n  );\n  return (\n    <file-diff ref={ref} className={className} style={style}>\n      {templateRender(children, prerenderedHTML)}\n    </file-diff>\n  );\n}\n"],"mappings":";;;;;;;;;;;AAwBA,SAAgB,KAA8B,EAC5C,MACA,iBACA,SACA,WACA,OACA,kBACA,sBACA,mBAC4C;CAC5C,MAAM,MAAM,gBAAgB;EAAE;EAAM;EAAS;EAAiB,CAAC;CAC/D,MAAM,WAAW,uBAAuB,KAAK;AAY7C,QACE,oBAAC;EAAe;EAAgB;EAAkB;YAC/C,eAZH,4CACG,YAAY,QAAQ,oBAAC;GAAI,MAAM;aAA0B;IAAe,EACxE,oBAAoB,QACnB,iBAAiB,KAAK,YAAY,UAChC,oBAAC;GAAgB,MAAM,sBAAsB,WAAW;aACrD,iBAAiB,WAAW;KADrB,MAEJ,CACN,IACH,EAIyB,gBAAgB;GAChC"}