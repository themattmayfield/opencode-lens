{
  "version": 3,
  "sources": ["../../@solid-primitives/storage/dist/tools.js", "../../@solid-primitives/storage/dist/cookies.js", "../../@solid-primitives/storage/dist/persisted.js"],
  "sourcesContent": ["import {} from \"./index.js\";\n/**\n * adds a `.clear` method to a Storage without one only using `.key`/`.removeItem`\n */\nexport const addClearMethod = (storage) => {\n    if (typeof storage.clear === \"function\") {\n        return storage;\n    }\n    storage.clear = () => {\n        let key;\n        while ((key = storage.key(0))) {\n            storage.removeItem(key);\n        }\n    };\n    return storage;\n};\nconst methodKeys = [\"clear\", \"getItem\", \"getAll\", \"setItem\", \"removeItem\", \"key\", \"getLength\"];\n/**\n * adds a `.withOptions` method that wraps the storage to apply options\n */\nexport const addWithOptionsMethod = (storage) => {\n    storage.withOptions = (options) => methodKeys.reduce((wrapped, key) => {\n        if (typeof storage[key] === \"function\") {\n            wrapped[key] = (...args) => {\n                args[storage[key].length - 1] = options;\n                return storage[key](...args);\n            };\n        }\n        return wrapped;\n    }, {\n        get length() {\n            return storage.length;\n        },\n        withOptions: (options) => storage.withOptions(options),\n    });\n    return storage;\n};\nconst callStorageMethod = (storages, method, args = [], first = false) => {\n    const results = storages.map(storage => storage[method](...args));\n    const isAsync = results.some(result => typeof result === \"object\" && typeof result?.then === \"function\");\n    return isAsync\n        ? first\n            ? Promise.race(results)\n            : Promise.all(results)\n        : first\n            ? results.filter(Boolean)[0]\n            : results;\n};\nconst isNumber = (n) => typeof n === \"number\";\n/**\n * combines multiple storages to a single storage\n */\nexport const multiplexStorage = (...storages) => ({\n    clear: () => callStorageMethod(storages, \"clear\"),\n    getItem: (key) => callStorageMethod(storages, \"getItem\", [key], true),\n    setItem: (key, value) => callStorageMethod(storages, \"setItem\", [key, value]),\n    removeItem: (key) => callStorageMethod(storages, \"removeItem\", [key]),\n    key: (no) => callStorageMethod(storages, \"key\", [no], true),\n    get length() {\n        const lengths = storages.map(storage => storage.length);\n        const isAsync = lengths.some(len => len && typeof len === \"object\" && typeof len.then === \"function\");\n        return (isAsync\n            ? Promise.all(lengths).then(lens => Math.max(...lens.filter(isNumber)))\n            : Math.max(...lengths.filter(isNumber)));\n    },\n});\n/**\n * Provides a minimal Storage API wrapper for an object\n */\nexport const makeObjectStorage = (object) => ({\n    getItem: (key) => (Object.hasOwn(object, key) && object[key]) || null,\n    setItem: (key, value) => {\n        object[key] = value;\n    },\n    removeItem: (key) => {\n        delete object[key];\n    },\n    key: (index) => Object.keys(object)[index],\n    get length() {\n        return Object.keys(object).length;\n    },\n    clear: () => Object.keys(object).forEach(key => {\n        delete object[key];\n    }),\n});\n", "import { getRequestEvent, isServer } from \"solid-js/web\";\nimport {} from \"./index.js\";\nimport { addWithOptionsMethod, addClearMethod } from \"./tools.js\";\nconst cookiePropertyMap = {\n    domain: \"Domain\",\n    expires: \"Expires\",\n    path: \"Path\",\n    secure: \"Secure\",\n    httpOnly: \"HttpOnly\",\n    maxAge: \"Max-Age\",\n    sameSite: \"SameSite\",\n};\nfunction serializeCookieOptions(options) {\n    if (!options)\n        return \"\";\n    const result = Object.entries(options)\n        .map(([key, value]) => {\n        const serializedKey = cookiePropertyMap[key];\n        if (!serializedKey)\n            return undefined;\n        if (value instanceof Date)\n            return `${serializedKey}=${value.toUTCString()}`;\n        if (typeof value === \"boolean\")\n            return value ? `${serializedKey}` : undefined;\n        return `${serializedKey}=${value}`;\n    })\n        .filter(v => !!v);\n    return result.length != 0 ? `; ${result.join(\"; \")}` : \"\";\n}\nfunction deserializeCookieOptions(cookie, key) {\n    const found = cookie.match(`(^|;)\\\\s*${key}\\\\s*=\\\\s*([^;]+)`)?.pop();\n    return found != null ? decodeURIComponent(found) : null;\n}\nconst getRequestHeaders = isServer\n    ? () => getRequestEvent()?.request.headers || new Headers()\n    : () => new Headers();\nconst getResponseHeaders = isServer\n    ? () => getRequestEvent()?.response\n        .headers || new Headers()\n    : () => new Headers();\n/**\n * handle cookies exactly like you would handle localStorage\n *\n * the main change is that setItem accepts the following options:\n * ```typescript\n * export type CookieOptions = {\n *   domain?: string;\n *   expires?: Date | number | String;\n *   path?: string;\n *   secure?: boolean;\n *   httpOnly?: boolean;\n *   maxAge?: number;\n *   sameSite?: \"None\" | \"Lax\" | \"Strict\";\n *   getRequest?: () => Request | () => PageEvent // useRequest from solid-start, vite users must pass the \"useRequest\" from \"solid-start/server\" function manually\n *   setCookie?: (key, value, options) => void // set cookie on the server\n * };\n * ```\n * Also, you can use its _read and _write properties to change reading and writing\n */\nexport const cookieStorage = addWithOptionsMethod(addClearMethod({\n    _read: isServer\n        ? (options) => {\n            const requestCookies = (options?.getRequestHeaders?.() || getRequestHeaders()).get(\"Cookie\");\n            const responseCookies = (options?.getResponseHeaders?.() || getResponseHeaders()).get(\"Set-Cookie\");\n            const cookies = {};\n            const addCookie = (_, key, val) => (cookies[key] = val);\n            requestCookies?.replace(/(?:^|;)([^=]+)=([^;]+)/g, addCookie);\n            responseCookies?.replace(/(?:^|, )([^=]+)=([^;]+)/g, addCookie);\n            return Object.entries(cookies)\n                .map(keyval => keyval.join(\"=\"))\n                .join(\"; \");\n        }\n        : () => document.cookie,\n    _write: isServer\n        ? (key, value, options) => {\n            const responseHeaders = getResponseHeaders();\n            const currentCookies = responseHeaders\n                .get(\"Set-Cookie\")\n                ?.split(\", \")\n                .filter(cookie => cookie && !cookie.startsWith(`${key}=`)) ?? [];\n            responseHeaders.set(\"Set-Cookie\", [...currentCookies, `${key}=${value}${serializeCookieOptions(options)}`].join(\", \"));\n        }\n        : (key, value, options) => {\n            document.cookie = `${key}=${value}${serializeCookieOptions(options)}`;\n        },\n    getItem: (key, options) => deserializeCookieOptions(cookieStorage._read(options), key),\n    setItem: (key, value, options) => {\n        cookieStorage._write(key, value.replace(/[\\u00c0-\\uffff\\&;]/g, c => encodeURIComponent(c)), options);\n    },\n    removeItem: (key, options) => {\n        cookieStorage._write(key, \"deleted\", {\n            ...options,\n            expires: new Date(0),\n        });\n    },\n    key: (index, options) => {\n        let key = null;\n        let count = 0;\n        cookieStorage\n            ._read(options)\n            .replace(/(?:^|;)\\s*(.+?)\\s*=\\s*[^;]+/g, (_, found) => {\n            if (!key && found && count++ === index) {\n                key = found;\n            }\n            return \"\";\n        });\n        return key;\n    },\n    getLength: (options) => {\n        let length = 0;\n        cookieStorage._read(options).replace(/(?:^|;)\\s*.+?\\s*=\\s*[^;]+/g, (found) => {\n            length += found ? 1 : 0;\n            return \"\";\n        });\n        return length;\n    },\n    get length() {\n        return this.getLength();\n    },\n}));\n", "import { createUniqueId, untrack } from \"solid-js\";\nimport { isServer, isDev } from \"solid-js/web\";\nimport { reconcile } from \"solid-js/store\";\nexport function makePersisted(signal, options = {}) {\n    const storage = options.storage || globalThis.localStorage;\n    const name = options.name || `storage-${createUniqueId()}`;\n    if (!storage) {\n        return [signal[0], signal[1], null];\n    }\n    const storageOptions = options.storageOptions;\n    const serialize = options.serialize || JSON.stringify.bind(JSON);\n    const deserialize = options.deserialize || JSON.parse.bind(JSON);\n    const init = storage.getItem(name, storageOptions);\n    const set = typeof signal[0] === \"function\"\n        ? (data) => {\n            try {\n                const value = deserialize(data);\n                signal[1](() => value);\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                if (isDev)\n                    console.warn(e);\n            }\n        }\n        : (data) => {\n            try {\n                const value = deserialize(data);\n                signal[1](reconcile(value));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                if (isDev)\n                    console.warn(e);\n            }\n        };\n    let unchanged = true;\n    if (init instanceof Promise)\n        init.then(data => unchanged && data && set(data));\n    else if (init)\n        set(init);\n    if (typeof options.sync?.[0] === \"function\") {\n        const get = typeof signal[0] === \"function\" ? signal[0] : () => signal[0];\n        options.sync[0]((data) => {\n            if (data.key !== name ||\n                (!isServer && (data.url || globalThis.location.href) !== globalThis.location.href) ||\n                data.newValue === serialize(untrack(get))) {\n                return;\n            }\n            set(data.newValue);\n        });\n    }\n    return [\n        signal[0],\n        typeof signal[0] === \"function\"\n            ? (value) => {\n                const output = signal[1](value);\n                const serialized = value != null ? serialize(output) : value;\n                options.sync?.[1](name, serialized);\n                if (serialized != null)\n                    storage.setItem(name, serialized, storageOptions);\n                else\n                    storage.removeItem(name, storageOptions);\n                unchanged = false;\n                return output;\n            }\n            : (...args) => {\n                signal[1](...args);\n                const value = serialize(untrack(() => signal[0]));\n                options.sync?.[1](name, value);\n                storage.setItem(name, value, storageOptions);\n                unchanged = false;\n            },\n        init,\n    ];\n}\n/**\n * storageSync - synchronize localStorage\n * This does only work for { storage: localStorage }.\n * If you wish to use e.g. cookieStorage, you may use a different sync method\n */\nexport const storageSync = [\n    (subscriber) => window.addEventListener(\"storage\", ev => subscriber(ev)),\n    () => {\n        /*storage already sends events fulfilling the PersistenceSyncData<T> conditions*/\n    },\n];\n/**\n * messageSync - synchronize over post message or broadcast channel API\n */\nexport const messageSync = (channel = window) => [\n    (subscriber) => channel.addEventListener(\"message\", ev => {\n        subscriber(ev.data);\n    }),\n    (key, newValue) => channel.postMessage({ key, newValue, timeStamp: +new Date(), url: location.href }, location.origin),\n];\n/**\n * wsSync - syncronize persisted storage via web socket\n */\nexport const wsSync = (ws, warnOnError = isDev) => [\n    (subscriber) => ws.addEventListener(\"message\", (ev) => {\n        try {\n            const data = JSON.parse(ev.data);\n            if ([\"key\", \"newValue\", \"timeStamp\"].every(item => Object.hasOwn(data, item))) {\n                subscriber(data);\n            }\n        }\n        catch (e) {\n            // eslint-disable-next-line no-console\n            if (warnOnError)\n                console.warn(e);\n        }\n    }),\n    (key, newValue) => ws.send(JSON.stringify({\n        key,\n        newValue,\n        timeStamp: +new Date(),\n        ...(isServer ? {} : { url: location.href }),\n    })),\n];\n/**\n * multiplex arbitrary sync APIs\n *\n * ```ts\n * makePersisted(createSignal(0), { sync: multiplexSync(messageSync(bc), wsSync(ws)) })\n * ```\n */\nexport const multiplexSync = (...syncAPIs) => [\n    subscriber => syncAPIs.forEach(([subscribe]) => subscribe(subscriber)),\n    (key, value) => syncAPIs.forEach(([_, updater]) => updater(key, value)),\n];\n"],
  "mappings": "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",
  "names": ["options"]
}
