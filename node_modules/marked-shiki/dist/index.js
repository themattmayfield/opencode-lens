function p(i = {}) {
  const { highlight: e, container: n } = i;
  return {
    async: !0,
    async walkTokens(t) {
      var s;
      if (t.type !== "code" || typeof e != "function") return;
      const [a = "text", ...l] = ((s = t.lang) == null ? void 0 : s.split(" ")) ?? [], { text: c } = t, r = await e(c, a, l), o = n ? n.replace("%l", String(a).toUpperCase()).replace("%s", r).replace("%t", c) : r;
      Object.assign(t, {
        type: "html",
        block: !0,
        text: `${o}
`
      });
    }
  };
}
export {
  p as default
};
